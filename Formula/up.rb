# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Up < Formula
  desc "UP (Unified Properties) CLI tool - parse, format, validate, and work with UP documents"
  homepage "https://github.com/uplang/tools"
  version "0.0.2"
  license "GPL-3.0"

  depends_on "go" => :optional

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/uplang/tools/releases/download/v0.0.2/up_0.0.2_darwin_amd64.tar.gz"
      sha256 "d901fd9da103b839b902896399085b7abc8318afb22b85423bbd452fc3f9b98c"

      def install
        bin.install "up"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/uplang/tools/releases/download/v0.0.2/up_0.0.2_darwin_arm64.tar.gz"
      sha256 "290e7cdda9fa66dbba670cc0253e51908f72abd7ab4dbbe9c5ceac4843d00859"

      def install
        bin.install "up"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://github.com/uplang/tools/releases/download/v0.0.2/up_0.0.2_linux_amd64.tar.gz"
      sha256 "6eca7927a8a47aaff4d5e6f9b8c6248143fa459e59991321b1839b481b080862"
      def install
        bin.install "up"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/uplang/tools/releases/download/v0.0.2/up_0.0.2_linux_arm64.tar.gz"
      sha256 "50a74ce02f2514cc85003442ac272504c5f6a5fa8a61f65ed3a9e8c235eaa185"
      def install
        bin.install "up"
      end
    end
  end

  def caveats
    <<~EOS
      UP CLI has been installed!

      Documentation: https://github.com/uplang/tools/tree/main/up

      Common commands:
        up parse -i config.up --pretty
        up format -i config.up
        up validate -i config.up
    EOS
  end

  test do
    system "#{bin}/up", "version"
    system "#{bin}/up", "parse", "--help"
  end
end
